<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     
"http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="dao.ad-mapper">
	<select id="adListData" resultType="AdDTO">
		SELECT * FROM ad ORDER BY adno DESC
	</select>
	<select id="ad_info" resultType="AdDTO" parameterType="int">
		SELECT adsubject,url,adid,pointrange,presentrange,msg
		FROM ad WHERE adno=#{adno}
	</select>
	<select id="side_info" resultType="AdDTO" parameterType="int">
		SELECT adno, url, hit FROM ad WHERE adno=#{adno}
	</select>
	<update id="getpoint" parameterType="java.util.Map">
		UPDATE memberData SET sumpoint=sumpoint+#{point} WHERE id=#{id}
	</update>
	<insert id="insert_myadviewlist" parameterType="myad">
		INSERT INTO myadviewlist VALUES(#{memberid}, SYSDATE, #{adno}, #{point}, 'test', 1400)
	</insert>
	<insert id="adrequestInsert" parameterType="AdDTO">
	INSERT INTO ad VALUES(ad_adno_seq,#{adid},#{adsubject},#{msg},#{pointrange},#{url},#{maj_category},#{sub_category},#{img})
	</insert>
	<select id="adReqList" resultType="Adreq">
	SELECT * FROM adrequest ORDER BY regdate DESC
	</select>
</mapper>